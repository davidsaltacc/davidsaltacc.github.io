<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fractal Explorer v4</title>
    <link rel="stylesheet" href="../../styles.css">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Fractal Explorer v4">
    <meta property="og:description" content="a fractal explorer">
    <meta property="og:image" content="/assets/thumbnail_fractals-v4.html.png">
    <meta property="og:url" content="https://davidsaltacc.github.io/pages/generative-art/fractals-v4">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Fractal Explorer v4">
    <meta name="twitter:description" content="a fractal explorer">
    <meta name="twitter:image" content="/assets/thumbnail_fractals-v4.html.png">
    <link rel="shortcut icon" type="image/png" href="../../assets/favicon.png">
	<link rel="stylesheet" type="text/css" href="../../code/css/pages/generative-art/fractals-v4.css">
</head>
<body>
    <div id="loadingscreen">
        <h2 class="infobar" id="statusbar">Loading... This shouldn't take long at all.</h2>
        <br>
        <div id="loadingwave-center">
            <div class="wave"></div><div class="wave"></div><div class="wave"></div><div class="wave"></div>
            <div class="wave"></div><div class="wave"></div><div class="wave"></div><div class="wave"></div>
            <div class="wave"></div><div class="wave"></div><div class="wave"></div><div class="wave"></div>
        </div>
    </div>
    <div class="container">
        <span id="canvasContainer"><!-- putting canvases in div makes them stick to div top not page top, could fix with css but im too lazy so span is the solution -->
            <canvas id="canvasJul" width="500" height="500"></canvas>
            <canvas id="canvasMain" width="500" height="500"></canvas>
        </span>
        <h1 id="title">David's Fractal Explorer v4</h1>

        <!--

        TOGGLABLE AREA TEMPLATE

        <div class="toggleable">
            <div id="NAMEareatoggle" class="collapsToggle">
                <span id="NAMEareaind" class="areaind">&#11206;</span>
                <h3>DESCRIPTION</h3>
            </div>
            <div id="NAMEarea" style="display: block;">
                <script>
                    var NAMEe = document.getElementById("NAMEareatoggle");
                    var NAMEe2 = document.getElementById("NAMEarea");
                    var NAMEe3 = document.getElementById("NAMEareaind");
                    NAMEe.addEventListener("click", ev => {
                        if (NAMEe2.style.display == "none") {
                            NAMEe2.style.display = "block";
                            NAMEe3.innerHTML = "&#11206;";
                            return;
                        }
                        if (NAMEe2.style.display == "block") {
                            NAMEe2.style.display = "none";
                            NAMEe3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <h1>CONTENTS</h1>
                <hr>
            </div>
        </div>

        
        -->

        <div class="toggleable">
            <div id="descareatoggle" class="collapsToggle">
                <span id="descareaind" class="areaind">&#11206;</span>
                <h3>Descriptions</h3>
            </div>
            <div id="descarea" style="display: block;">
                <script>
                    var desce = document.getElementById("descareatoggle");
                    var desce2 = document.getElementById("descarea");
                    var desce3 = document.getElementById("descareaind");
                    desce.addEventListener("click", ev => {
                        if (desce2.style.display == "none") {
                            desce2.style.display = "block";
                            desce3.innerHTML = "&#11206;";
                            return;
                        }
                        if (desce2.style.display == "block") {
                            desce2.style.display = "none";
                            desce3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <h4>Fractal Description:</h4>
                <p id="frdesc"></p>
                <h4>Colorscheme Description:</h4>
                <p id="csdesc"></p>
                <h4>Color Method Description:</h4>
                <p id="cmdesc"></p>
                <h4>Fractal Modifier Description:</h4>
                <p id="fmdesc"></p>
                <hr>
                <h4>Fractal Formula:</h4>
                <p id="frfm"></p>
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="fracareatoggle" class="collapsToggle">
                <span id="fracareaind" class="areaind">&#11206;</span>
                <h3>Fractal Selection:</h3>
            </div>
            <div id="fracarea" style="display: block;">
                <script>
                    var frace = document.getElementById("fracareatoggle");
                    var frace2 = document.getElementById("fracarea");
                    var frace3 = document.getElementById("fracareaind");
                    frace.addEventListener("click", ev => {
                        if (frace2.style.display == "none") {
                            frace2.style.display = "block";
                            frace3.innerHTML = "&#11206;";
                            return;
                        }
                        if (frace2.style.display == "block") {
                            frace2.style.display = "none";
                            frace3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <button onclick="setFractal('mandelbrot')">Mandelbrot</button>
                <button onclick="setFractal('burning_ship')">Burning ship</button>
                <button onclick="setFractal('celtic')">Celtic</button>
                <button onclick="setFractal('buffalo')">Buffalo</button>
                <button onclick="setFractal('tricorn')">Tricorn</button>
                <button onclick="setFractal('duck')">Duck</button>
                <button onclick="setFractal('ass')">B fractal</button>
                <button onclick="setFractal('sine')">Sine</button>
                <button onclick="setFractal('popcorn')">Popcorn</button>
                <button onclick="setFractal('thorn')">Thorn</button>
                <button onclick="setFractal('henon')">Henon</button>
                <button onclick="setFractal('duffing')">Duffing</button>
                <button onclick="setFractal('chirikov')">Chirikov</button>
                <button onclick="setFractal('ikeda')">Ikeda</button>
                <button onclick="setFractal('feather')">Feather</button>
                <button onclick="setFractal('heart')">Heart</button>
                <button onclick="setFractal('ass_2')">Sunglasses</button>
                <button onclick="setFractal('triangle')">Triangle</button>
                <button onclick="setFractal('shark_fin')">Shark fin</button>
                <button onclick="setFractal('tippets')">Tippets</button>
                <button onclick="setFractal('zubieta')">Zubieta</button>
                <button onclick="setFractal('sinh')">Hyperbolic sine</button>
                <button onclick="setFractal('unnamed_1')">Unnamed 1</button>
                <button onclick="setFractal('unnamed_2')">Unnamed 2</button>
                <button onclick="setFractal('unnamed_3')">Unnamed 3</button>
                <button onclick="setFractal('fish')">Fish</button>
                <button onclick="setFractal('wavy')">Wavy</button>
                <button onclick="setFractal('collatz')">Collatz</button>
                <button onclick="setFractal('unnamed_4')">Unnamed 4</button>
                <button onclick="setFractal('septagon')">Septagon</button>
                <button onclick="setFractal('unnamed_5')">Unnamed 5</button>
                <button onclick="setFractal('unnamed_6')">Unnamed 6</button>
                <button onclick="setFractal('cactus')">Cactus</button>
                <button onclick="setFractal('unnamed_7')">Unnamed 7</button>
                <button onclick="setFractal('power_circle')">Power Circle</button>
                <button onclick="setFractal('bitten_mandelbrot')">Bitten Mandelbrot</button>
                <button onclick="setFractal('unnamed_8')">Unnamed 8</button>
                <button onclick="setFractal('unnamed_9')">Unnamed 9</button>
                <button onclick="setFractal('smol_brot')">Smallbrot</button>
                <button onclick="setFractal('magnet')">Magnet</button>
                <button onclick="setFractal('tree')">Tree</button>
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="csareatoggle" class="collapsToggle">
                <span id="csareaind" class="areaind">&#11206;</span>
                <h3>Colormap Selection:</h3>
            </div>
            <div id="csarea" style="display: block;">
                <script>
                    var cse = document.getElementById("csareatoggle");
                    var cse2 = document.getElementById("csarea");
                    var cse3 = document.getElementById("csareaind");
                    cse.addEventListener("click", ev => {
                        if (cse2.style.display == "none") {
                            cse2.style.display = "block";
                            cse3.innerHTML = "&#11206;";
                            return;
                        }
                        if (cse2.style.display == "block") {
                            cse2.style.display = "none";
                            cse3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <button onclick="setColorscheme('classic')">Classic</button>
                <button onclick="setColorscheme('ultrafractal')">Ultra Fractal Default</button>
                <button onclick="setColorscheme('red_blue')">Red and Blue</button>
                <button onclick="setColorscheme('sand')">Sand</button>
                <button onclick="setColorscheme('rainbow')">Rainbow</button>
                <button onclick="setColorscheme('davids')">David's</button>
                <button onclick="setColorscheme('lava_waves')">Lava waves</button>
                <button onclick="setColorscheme('morning_glory')">Morning glory</button>
                <button onclick="setColorscheme('chocolate')">Chocolate</button>
                <button onclick="setColorscheme('contrasted_classic')">Contrasted Classic</button>
                <button onclick="setColorscheme('black_white')">Black and White</button>
                <button onclick="setColorscheme('twilight')">Twilight</button>
                <button onclick="setColorscheme('red')">Red</button>
                <button onclick="setColorscheme('green')">Green</button>
                <button onclick="setColorscheme('blue')">Blue</button>
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="cmareatoggle" class="collapsToggle">
                <span id="cmareaind" class="areaind">&#11206;</span>
                <h3>Color Method Selection:</h3>
            </div>
            <div id="cmarea" style="display: block;">
                <script>
                    var cme = document.getElementById("cmareatoggle");
                    var cme2 = document.getElementById("cmarea");
                    var cme3 = document.getElementById("cmareaind");
                    cme.addEventListener("click", ev => {
                        if (cme2.style.display == "none") {
                            cme2.style.display = "block";
                            cme3.innerHTML = "&#11206;";
                            return;
                        }
                        if (cme2.style.display == "block") {
                            cme2.style.display = "none";
                            cme3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <button onclick="setColormethod('terraced')">Terraced</button>
                <button onclick="setColormethod('smooth')">Smooth</button>
                <button onclick="setColormethod('rings')">Rings</button>
                <button onclick="setColormethod('stripes')">Stripes</button>
                <button onclick="setColormethod('interior')">Interior</button>
                <button onclick="setColormethod('accurate')">Accurate</button>
                <button onclick="setColormethod('smooth_stripes')">Smooth stripes</button>
                <button onclick="setColormethod('edgy')">Edgy</button>
                <button onclick="setColormethod('floor')">Floor</button>
                <button onclick="setColormethod('squared')">Squared</button>
                <button onclick="setColormethod('stripier_stripes')">Stripier stripes</button>
                <button onclick="setColormethod('spiky')">Spiky</button>
                <button onclick="setColormethod('stripy_rings')">Stripy rings</button>
                <button onclick="setColormethod('interior_2')">Interior 2</button>
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="fmareatoggle" class="collapsToggle">
                <span id="fmareaind" class="areaind">&#11208;</span>
                <h3>Fractal Modifier:</h3>
            </div>
            <div id="fmarea" style="display: none;">
                <script>
                    var fme = document.getElementById("fmareatoggle");
                    var fme2 = document.getElementById("fmarea");
                    var fme3 = document.getElementById("fmareaind");
                    fme.addEventListener("click", ev => {
                        if (fme2.style.display == "none") {
                            fme2.style.display = "block";
                            fme3.innerHTML = "&#11206;";
                            return;
                        }
                        if (fme2.style.display == "block") {
                            fme2.style.display = "none";
                            fme3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <button onclick="setPostFunction('none')">None</button>
                <button onclick="setPostFunction('sin')">Sine</button>
                <button onclick="setPostFunction('sinh')">Hyperbolic sine</button>
                <button onclick="setPostFunction('cos')">Cosine</button>
                <button onclick="setPostFunction('cosh')">Hyperbolic cosine</button>
                <button onclick="setPostFunction('tan')">Tangent</button>
                <button onclick="setPostFunction('tanh')">Hyperbolic tangent</button>
                <button onclick="setPostFunction('log')">Logarithm</button>
                <button onclick="setPostFunction('sqrt')">Square root</button>
                <button onclick="setPostFunction('abs')">Absolute</button>
                <button onclick="setPostFunction('exp')">Exponential</button>
                <button onclick="setPostFunction('atan')">Arctangent</button>
                <button onclick="setPostFunction('asin')">Arcsine</button>
                <button onclick="setPostFunction('acos')">Arccosine</button>
                <button onclick="setPostFunction('asinh')">Hyperbolic Arcsine</button>
                <button onclick="setPostFunction('acosh')">Hyperbolic Arccosine</button>
                <button onclick="setPostFunction('atanh')">Hyperbolic Arctangent</button>
                <button onclick="setPostFunction('inv')">Inversed</button>
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="importareatoggle" class="collapsToggle">
                <span id="importareaind" class="areaind">&#11208;</span>
                <h3>Import</h3>
            </div>
            <div id="importarea" style="display: none;">
                <script>
                    var importe = document.getElementById("importareatoggle");
                    var importe2 = document.getElementById("importarea");
                    var importe3 = document.getElementById("importareaind");
                    importe.addEventListener("click", ev => {
                        if (importe2.style.display == "none") {
                            importe2.style.display = "block";
                            importe3.innerHTML = "&#11206;";
                            return;
                        }
                        if (importe2.style.display == "block") {
                            importe2.style.display = "none";
                            importe3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <h4>Import from URL</h4>
                <input type="url" id="impurlinp">
                <button onclick="applyUrlParams(document.getElementById('impurlinp').value)">Submit</button>
                <h4>Import from exported PNG</h4>
                <button onclick="loadParamsFromFile();">Select file</button>
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="exareatoggle" class="collapsToggle">
                <span id="exareaind" class="areaind">&#11206;</span>
                <h3>Export</h3>
            </div>
            <div id="exarea" style="display: block;">
                <script>
                    var exe = document.getElementById("exareatoggle");
                    var exe2 = document.getElementById("exarea");
                    var exe3 = document.getElementById("exareaind");
                    exe.addEventListener("click", ev => {
                        if (exe2.style.display == "none") {
                            exe2.style.display = "block";
                            exe3.innerHTML = "&#11206;";
                            return;
                        }
                        if (exe2.style.display == "block") {
                            exe2.style.display = "none";
                            exe3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <h4>Export PNG</h4>
                <button onclick="exportMain()">Export Main</button>
                <button onclick="exportJul()">Export Juliaset</button>
                <h4>Share as an URL</h4>
                <a id="url"></a>
                <button onclick="createUrlParams();">Update URL</button>
                <h3 id="urlaoutdatedwarn">Warning: The URL is not updated.</h3>
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="setareatoggle" class="collapsToggle">
                <span id="setareaind" class="areaind">&#11206;</span>
                <h3>Settings:</h3>
            </div>
            <div id="setarea" style="display: block;">
                <script>
                    var sete = document.getElementById("setareatoggle");
                    var sete2 = document.getElementById("setarea");
                    var sete3 = document.getElementById("setareaind");
                    sete.addEventListener("click", ev => {
                        if (sete2.style.display == "none") {
                            sete2.style.display = "block";
                            sete3.innerHTML = "&#11206;";
                            return;
                        }
                        if (sete2.style.display == "block") {
                            sete2.style.display = "none";
                            sete3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <button onclick="resetSettings();" id="settingsReset">Reset Settings</button>
                <button onclick="randomizeFractal();">Randomize Settings</button>
                <br><br>
                <p>Sticky canvases:</p>
                <input type="checkbox" id="stickycanvases" checked="true" onchange="setCanvasesSticky(this.checked);">
                <p>Escape Radius:</p>
                <input type="number" id="radius" value="100000" onchange="setRadius(this.value)">
                <p>Iterations:</p>
                <input type="number" id="iterations" value="100" onchange="setIterations(this.value)">
                <p>Fractal Power:</p>
                <input type="number" id="power" value="2" onchange="setPower(this.value)">
                <p>Juliaset Constant:</p>
                <input type="number" id="constantRe" value="0" onchange="setConstantX(this.value);">
                <input type="number" id="constantIm" value="0" onchange="setConstantY(this.value);">
                <p>Interpolate between normal and juliaset:</p>
                <input type="range" class="slider" id="nji" value="1" min="0" max="1" step="0.001" oninput="setInterpolation(this.value);">
                <p>Canvas Size:</p>
                <input type="number" id="canvasSize" value="500" onchange="setCanvasSize(this.value)">
                <p>Color offset:</p>
                <input type="range" class="slider" min="0" max="1" step="0.001" value="0" id="coloroffset" oninput="setColoroffset(this.value);">
                <p>Colorfulness:</p>
                <input type="range" class="slider" min="0" max="10" step="0.001" value="1" id="colorfulness" oninput="setColorfulness(this.value);">
                <p>Sample Count:</p>
                <input type="number" id="sampleCount" min="0" value="1" onchange="setSampleCount(this.value)">
                <hr>
            </div>
        </div>
        <div class="toggleable">
            <div id="cloudsareatoggle" class="collapsToggle">
                <span id="cloudsareaind" class="areaind">&#11208;</span>
                <h3>Clouds</h3>
            </div>
            <div id="cloudsarea" style="display: none;">
                <script>
                    var cloudse = document.getElementById("cloudsareatoggle");
                    var cloudse2 = document.getElementById("cloudsarea");
                    var cloudse3 = document.getElementById("cloudsareaind");
                    cloudse.addEventListener("click", ev => {
                        if (cloudse2.style.display == "none") {
                            cloudse2.style.display = "block";
                            cloudse3.innerHTML = "&#11206;";
                            return;
                        }
                        if (cloudse2.style.display == "block") {
                            cloudse2.style.display = "none";
                            cloudse3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                
                <p>Cloud Seed:</p>
                <input type="number" id="cloudSeed" oninput="setCloudSeed(this.value);">
                <p>Cloud Amplitude:</p>
                <input type="range" class="slider" min="0" max="5" step="0.01" value="0" id="cloudAmplitude" oninput="setCloudAmplitude(this.value);">
                <p>Cloud Multiplier:</p>
                <input type="range" class="slider" min="0" max="1" step="0.01" value="0.8" id="cloudMultiplier" oninput="setCloudMultiplier(this.value);">
                <hr>
            </div>
        </div>
        <div id="pluginContainer"></div>
        <div class="toggleable">
            <div id="ccareatoggle" class="collapsToggle">
                <span id="ccareaind" class="areaind">&#11208;</span>
                <h3>Customize Code</h3>
            </div>
            <div id="ccarea" style="display: none;">
                <script>
                    var cce = document.getElementById("ccareatoggle");
                    var cce2 = document.getElementById("ccarea");
                    var cce3 = document.getElementById("ccareaind");
                    cce.addEventListener("click", ev => {
                        if (cce2.style.display == "none") {
                            cce2.style.display = "block";
                            cce3.innerHTML = "&#11206;";
                            return;
                        }
                        if (cce2.style.display == "block") {
                            cce2.style.display = "none";
                            cce3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <h4>Custom Fractal:</h4>
                <div>
                    <div class="tab">
                        <button class="ftablink" id="fcodeb" onclick="openTabF(event, 'fcode');">Fractal Code</button>
                        <button class="ftablink" onclick="openTabF(event, 'fhelp');">Help</button>
                    </div>
                    <div id="fcode" class="ftabcontent">
                        <pre><code class="fixedCode">fn iterate(z: vec2&lt;f32&gt;, c: vec2&lt;f32&gt;, power: f32) -&gt; vec2&lt;f32&gt; {</code></pre>
                        <textarea id="fcodei" class="code language-javascript" spellcheck="false" type="text"></textarea>
                        <script>
                            var textarea = document.getElementById("fcodei");
                            textarea.addEventListener("input", function() {
                                this.style.height = "auto";
                                this.style.height = (this.scrollHeight + 11) + "px";
                            });
                        </script>
                        <pre class="endcodepre"><code class="fixedCode">}</code></pre>
                        <button class="submitShader" id="tgshdf" onclick="toggleShader(this, 'f')">Enable Custom Fractal Shader</button><br>
                        <button class="submitShader" onclick="updateShader('f')">Update Custom Fractal Shader</button>
                        <h4>Compile Output:</h4>
                        <pre><code id="fcompileout"></code></pre>
                    </div>
                    <div id="fhelp" class="ftabcontent">
                        <h4>Here you can enter a custom formula for a fractal.</h4>
                        <p>As an example, here is the mandelbrot set:</p>
                        <pre><code class="fixedCode">return c_pow(z, power) + c;</code></pre>
                        <p>In this example, <code class="fixedCode">c_pow()</code> raises a complex number z to a float power (usually 2), and adds c.</p>
                        <br>
                        <h4>All available functions:</h4>
                        <p>NOTE: When experimenting around, sometimes you should use some of these with a low radius. That produces better results sometimes.</p>
                        <br>
                        <p><code class="fixedCode">complex(re, im)</code>: Creates a complex number. Can also be written as <code class="fixedCode">vec2&lt;f32&gt;();</code></p>
                        <br>
                        <p><code class="fixedCode">c_multiplication(a, b)</code>: Multiplies two complex numbers together.</p><br>
                        <p><code class="fixedCode">c_division(a, b)</code>: Divides two complex numbers.</p><br>
                        <p><code class="fixedCode">c_pow(z, p)</code>: Raises a complex number to a (float) power.</p><br>
                        <p><code class="fixedCode">c_cpow(z, p)</code>: Raises a complex number to a (complex) power. </p><br>
                        <br>
                        <p><code class="fixedCode">c_sin(z)</code>: Complex Sine</p><br>
                        <p><code class="fixedCode">c_cos(z)</code>: Complex Cosine</p><br>
                        <p><code class="fixedCode">c_tan(z)</code>: Complex Tangent</p><br>
                        <br>
                        <p><code class="fixedCode">c_sinh(z)</code>: Complex Hyperbolic Sine</p><br>
                        <p><code class="fixedCode">c_cosh(z)</code>: Complex Hyperbolic Cosine</p><br>
                        <p><code class="fixedCode">c_tanh(z)</code>: Complex Hyperbolic Tangent</p><br>
                        <br>
                        <p><code class="fixedCode">c_asin(z)</code>: Complex Arcsine</p><br>
                        <p><code class="fixedCode">c_acos(z)</code>: Complex Arccosine</p><br>
                        <p><code class="fixedCode">c_atan(z)</code>: Complex Arctangent</p><br>
                        <br>
                        <p><code class="fixedCode">c_asinh(z)</code>: Complex Hyperbolic Arcsine</p><br>
                        <p><code class="fixedCode">c_acosh(z)</code>: Complex Hyperbolic Arccosine</p><br>
                        <p><code class="fixedCode">c_atanh(z)</code>: Complex Hyperbolic Arctangent</p><br>
                        <br>
                        <p><code class="fixedCode">c_log(z)</code>: Complex Logarithm</p><br>
                        <p><code class="fixedCode">c_exp(z)</code>: Complex Exponential</p><br>
                        <p><code class="fixedCode">c_sqrt(z)</code>: Complex Square Root</p><br>
                        <p><code class="fixedCode">c_abs(z)</code>: Complex Absolute (kind of, just takes the absolute of both sides)</p><br>
                        <br>
                        <p>You have access to all built-in WGSL functions aswell.</p>
                        <h4>All available constants:</h4>
                        <p><code class="fixedCode">pi</code>: Pi</p><br>
                        <p><code class="fixedCode">e</code>: e</p><br>
                        <p><code class="fixedCode">ln2</code>: Natural Logarithm of 2</p><br>
                        <p><code class="fixedCode">phi</code>: Golden ratio.</p><br>
                    </div>
                </div>
                <h4>Custom Colorscheme:</h4>
                <div>
                    <div class="tab">
                        <button class="cstablink" id="cscodeb" onclick="openTabCs(event, 'cscode');">Coloscheme Code</button>
                        <button class="cstablink" onclick="openTabCs(event, 'cshelp');">Help</button>
                    </div>
                    <div id="cscode" class="cstabcontent">
                        <pre><code class="fixedCode">fn color(x: f32) -&gt; vec4&lt;f32&gt; {</code></pre>
                        <textarea id="cscodei" spellcheck="false" type="text"></textarea>
                        <script>
                            var textarea = document.getElementById("cscodei");
                            textarea.addEventListener("input", function() {
                                this.style.height = "auto";
                                this.style.height = (this.scrollHeight + 11) + "px";
                            });
                        </script>
                        <pre class="endcodepre"><code class="fixedCode">}</code></pre>
                        <button class="submitShader" id="tgshdcs" onclick="toggleShader(this, 'cs')">Enable Custom Colorscheme Shader</button><br>
                        <button class="submitShader" onclick="updateShader('cs')">Update Custom Colorscheme Shader</button>
                        <h4>Compile Output:</h4>
                        <pre><code id="cscompileout"></code></pre>
                    </div>
                    <div id="cshelp" class="cstabcontent">
                        <h4>For a custom colorscheme, you can either use a formula involving maths, like this:</h4>
                        <pre><code class="fixedCode">var xp: f32 = x * pi * 2.;
return vec4&lt;f32&gt;(
    .5 + sin(xp) / 2.,
    .5 + sin(xp + 1.) / 2.,
    .5 + sin(xp + 2.) / 2.,
    1.
);</code></pre>
                        <p>This code uses a few sines to create the "classic" colorscheme.</p>
                        <h4>Or, you could just use interpolation. An example is here:</h4>
                        <pre><code class="fixedCode">
var xv: f32 = x;
var red: vec3&lt;f32&gt; = vec3&lt;f32&gt;(1., 0., 0.);
var yellow: vec3&lt;f32&gt; = vec3&lt;f32&gt;(1., 1., 0.);
var green: vec3&lt;f32&gt; = vec3&lt;f32&gt;(0., 1., 0.);
var lightblue: vec3&lt;f32&gt; = vec3&lt;f32&gt;(0., 1., 1.);
var blue: vec3&lt;f32&gt; = vec3&lt;f32&gt;(0., 0., 1.);
var pink: vec3&lt;f32&gt; = vec3&lt;f32&gt;(1., 0., 1.);
xv = fract(xv) * 6.;
if (xv < 1.) {
    return color_interpolate(pink, red, yellow, green, fract(xv));
}
if (xv < 2.) {
    return color_interpolate(red, yellow, green, lightblue, fract(xv));
}
if (xv < 3.) {
    return color_interpolate(yellow, green, lightblue, blue, fract(xv));
}
if (xv < 4.) {
    return color_interpolate(green, lightblue, blue, pink, fract(xv));
}
if (xv < 5.) {
    return color_interpolate(lightblue, blue, pink, red, fract(xv));
}
if (xv <= 6.) {
    return color_interpolate(blue, pink, red, yellow, fract(xv));
}
return vec4&lt;f32&gt;(0., 0., 0., 1.);
                        </code></pre>
                        <p>While this might look a little confusing at first, you can also just try modifying the colors at the top, changing (1., 0., 1.) to whatever color (in RGB) you like.<br>This example creates the "rainbow" colorscheme.</p>
                    </div>
                </div>
                <script>
                    function openTabF(e, n) {
                        for (c of document.getElementsByClassName("ftabcontent")) {
                            c.style.display = "none";
                        }
                        for (l of document.getElementsByClassName("ftablink")) {
                            l.className = l.className.replace(" active", "");
                        }
                        document.getElementById(n).style.display = "block";
                        e.currentTarget.className += " active";
                    }
                    function openTabCs(e, n) {
                        for (c of document.getElementsByClassName("cstabcontent")) {
                            c.style.display = "none";
                        }
                        for (l of document.getElementsByClassName("cstablink")) {
                            l.className = l.className.replace(" active", "");
                        }
                        document.getElementById(n).style.display = "block";
                        e.currentTarget.className += " active";
                    }
                    document.getElementById("fcodeb").click();
                    document.getElementById("cscodeb").click();
                </script>
                <hr>
            </div>
        </div>

        <div class="toggleable">
            <div id="plgloadareatoggle" class="collapsToggle">
                <span id="plgloadareaind" class="areaind">&#11208;</span>
                <h3>Load Plugin</h3>
            </div>
            <div id="plgloadarea" style="display: none;">
                <script>
                    var plgloade = document.getElementById("plgloadareatoggle");
                    var plgloade2 = document.getElementById("plgloadarea");
                    var plgloade3 = document.getElementById("plgloadareaind");
                    plgloade.addEventListener("click", ev => {
                        if (plgloade2.style.display == "none") {
                            plgloade2.style.display = "block";
                            plgloade3.innerHTML = "&#11206;";
                            return;
                        }
                        if (plgloade2.style.display == "block") {
                            plgloade2.style.display = "none";
                            plgloade3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <div>
                    <div class="tab">
                        <button class="ptablink" id="purlb" onclick="openTabP(event, 'purl');">From Url</button>
                        <button class="ptablink" onclick="openTabP(event, 'pcode');">From Code</button>
                        <button class="ptablink" onclick="openTabP(event, 'pfeat');">Featured (mine :P)</button>
                    </div>
                    <div id="purl" class="ptabcontent">
                        <input id="purlinp" spellcheck="false" type="text"><br><br>
                        <button onclick="loadPluginUrl(document.getElementById('purlinp').value);">Submit</button>
                    </div>
                    <div id="pcode" class="ptabcontent">
                        <textarea id="pcodearea" spellcheck="false" type="text"></textarea><br>
                        <button onclick="loadPluginCode(document.getElementById('pcodearea').value);">Submit</button>
                    </div>
                    <div id="pfeat" class="ptabcontent">
                        <button onclick="loadPluginUrl('/code/js/pages/generative-art/fractals-v4/plugins/mandelbrot_variants.js');">Mandelbrot Variants</button>
                    </div>
                </div>
                <script>
                    function openTabP(e, n) {
                        for (c of document.getElementsByClassName("ptabcontent")) {
                            c.style.display = "none";
                        }
                        for (l of document.getElementsByClassName("ptablink")) {
                            l.className = l.className.replace(" active", "");
                        }
                        document.getElementById(n).style.display = "block";
                        e.currentTarget.className += " active";
                    }
                    document.getElementById("purlb").click();
                </script>
                <hr>
            </div>
        </div>

        <div class="toggleable">
            <div id="infareatoggle" class="collapsToggle">
                <span id="infareaind" class="areaind">&#11206;</span>
                <h3>Information</h3>
            </div>
            <div id="infarea" style="display: block;">
                <script>
                    var infe = document.getElementById("infareatoggle");
                    var infe2 = document.getElementById("infarea");
                    var infe3 = document.getElementById("infareaind");
                    infe.addEventListener("click", ev => {
                        if (infe2.style.display == "none") {
                            infe2.style.display = "block";
                            infe3.innerHTML = "&#11206;";
                            return;
                        }
                        if (infe2.style.display == "block") {
                            infe2.style.display = "none";
                            infe3.innerHTML = "&#11208;";
                            return;
                        }
                    });
                </script>
                <h3>Side Note:</h3>
                <p>This project is still very early in development. This means, new features will be added in the future. Until everything is finished, bugs might occur, things might break. If you find anything, please <a href="https://github.com/davidsaltacc/davidsaltacc.github.io/issues/new">open a issue on github.</a></p>
                <hr>
                <h3>Other Versions:</h3>
                <a href="https://davidsaltacc.github.io/pages/generative-art/fractals-v1">Version v1</a><br>
                <a href="https://davidsaltacc.github.io/pages/generative-art/fractals-v2">Version v2</a><br>
                <a href="https://davidsaltacc.github.io/pages/generative-art/fractals-v3">Version v3</a><br>
                <a href="https://turbowarp.org/907856776?fps=60&turbo">Scratch Version I made for some reason</a>
                <hr>
                <div id="whatarefractalsContainer">
                    <h3 id="whatarefractals">What are fractals?</h3>
                    <a href="https://en.wikipedia.org/wiki/Fractal">en.wikipedia.org/wiki/Fractal</a><br>
                    <a href="https://en.wikipedia.org/wiki/Mandelbrot_set">en.wikipedia.org/wiki/Mandelbrot_set</a><br>
                    <a href="https://en.wikipedia.org/wiki/Julia_set">en.wikipedia.org/wiki/Julia_set</a><br>
                    <a href="https://blinry.org/mandelbrot/">blinry.org/mandelbrot</a><br>
                    <a href="https://alonso-delarte.medium.com/a-quick-explanation-of-the-mandelbrot-set-41102d7182b">alonso-delarte.medium.com/a-quick-explanation-of-the-mandelbrot-set-41102d7182b</a><br>
                    <a href="http://www.paulbourke.net/fractals/">www.paulbourke.net/fractals</a>
                </div>
                <hr>
                <h3>Special Thanks:</h3>
                <p><a href="https://nathansolomon1678.github.io/fractals">This</a> project by nathansolomon1678 on github, where I got a lot of insipration (and code) from</p>
                <p><a href="https://github.com/BenjaminAster/WebGPU-Mandelbrot">This</a> project by BenjaminAster on github, that helped me a little since I wasn't too experienced with WebGPU/WGSL</p>
                <p>Paul Bourke, especially his website page on fractals <a href="http://www.paulbourke.net/fractals/">here</a>, where I got lots of the fractals and insipration from</p>
                <p>CodeParade (HackerPoet on github) for <a href="https://github.com/HackerPoet/FractalSoundExplorer">this</a> project, where I got the code for the feather fractal and a few others from</p>
                <p><a href="https://github.com/kbinani/colormap-shaders">This</a> project on github I got some colormaps from.</p>
                <p><a href="https://github.com/radian628/small-projects">This</a> repository on github by radian628, where I got the idea of multisampling from.</p>
                <p>All the amazing people who discovered some of these fractals and made this project possible</p>
                <p>My friends (they did nothing for this project but still thanks)</p>
                <p>You, for visiting and testing my project!</p>
                <hr>
                <h3>View Fractal Gallery:</h3>
                <a href="https://davidsaltacc.github.io/pages/gallery/fractals">Fractal Gallery</a>
                <hr>
            </div>
        </div>
    </div>
    <div id="walkthroughDarken"></div>
    <div class="support-banner" id="sb">
        <p onclick="console.log(this); window.location.href = 'https:\/\/ko-fi.com\/justacoder';">Support my work! </p><span onclick="this.parentElement.remove();">X</span>
    </div>
    <!--<script src="../../code/js/pages/generative-art/fractals-v4/walkthrough.js"></script>-->
    <script src="../../code/js/pages/generative-art/fractals-v4/main.js"></script>
    <script src="../../code/js/pages/generative-art/fractals-v4/plugins.js"></script>
</body>
</html>